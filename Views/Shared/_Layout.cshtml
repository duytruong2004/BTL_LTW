<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - VITA Hiệp hội Công nghệ và Dịch vụ số Việt Nam</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    
    @* Thêm link CSS của Bootstrap (nếu chưa có) để dùng các nút bấm và modal *@
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>

    <header class="main-header">
        <div class="container">
            <a class="logo" asp-controller="Home" asp-action="Index">
                VITA
            </a>

            <nav class="main-nav">
                <ul>
                    <li><a asp-controller="Home" asp-action="Index" class="active">Trang chủ</a></li>
                
                    <li><a asp-controller="News" asp-action="Index">Tin tức</a></li>
                
                    <li><a asp-controller="Job" asp-action="Index">Việc làm</a></li>
                
                </ul>
            </nav>

            <div class="header-actions">
                @if (User.Identity.IsAuthenticated)
                {
                    // Nút "Quản lý" (Chỉ Admin hoặc Moderator)
                    @if (User.IsInRole("Admin") || User.IsInRole("Moderator"))
                    {
                        <a asp-controller="Admin" asp-action="Index" class="btn btn-warning" style="margin-right: 10px;">Quản lý</a>
                    }
                    
                    // Nút "Đăng bài" (Admin, Moderator, Enterprise)
                    @if (User.IsInRole("Admin") || User.IsInRole("Moderator") || User.IsInRole("Enterprise"))
                    {
                        <a asp-controller="Post" asp-action="Create" class="btn btn-primary" style="margin-right: 10px;">Đăng bài</a>
                    }

                    <span style="margin-right: 15px; color: #fff;">Xin chào, @User.Identity.Name!</span>
                    <a asp-controller="Account" asp-action="Logout" class="btn btn-secondary">Đăng xuất</a>
                }
                else
                {
                    <a asp-controller="Account" asp-action="Login" class="btn">Đăng nhập</a>
                    <a asp-controller="Account" asp-action="Register" class="btn btn-primary" style="margin-left: 10px;">Đăng ký</a>
                }
            </div>
        </div>
    </header>

    <main role="main">
        
        @* Thêm khối này để hiển thị thông báo (ví dụ: "Đăng bài chờ duyệt") *@
        @if (TempData["SuccessMessage"] != null)
        {
            <div class="container" style="margin-top: 20px;">
                <div class="alert alert-success">
                    @TempData["SuccessMessage"]
                </div>
            </div>
        }

        @RenderBody()
    </main>

    <footer class="main-footer">
        <div class="container">
            <div class="footer-column">
                <h4>VITA</h4>
                <p>Hiệp hội Công nghệ và Dịch vụ số Việt Nam (VITA) kết nối, phát triển cộng đồng công nghệ số.</p>
            </div>
            <div class="footer-column">
                <h4>Liên kết nhanh</h4>
                <ul>
                  
                    <li><a asp-controller="News" asp-action="Index">Tin tức</a></li>
            
                    <li><a asp-controller="Job" asp-action="Index">Việc làm</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Liên hệ</h4>
                <p>
                    Địa chỉ: Số 1, Đường ABC, Quận XYZ, Hà Nội<br>
                    Email: info@vita.org.vn<br>
                    Điện thoại: (024) 1234 5678
                </p>
            </div>
        </div>
        <div class="container footer-bottom">
            &copy; @DateTime.Now.Year - Hiệp hội VITA. Phát triển bởi [Tên nhóm của bạn].
        </div>
    </footer>

    @* Thêm script của Bootstrap (nếu chưa có) để Modal (trang duyệt bài) hoạt động *@
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>